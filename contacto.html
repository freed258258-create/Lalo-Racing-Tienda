<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto - Lalo Racing</title>
    <link rel="stylesheet" href="css/global.css">
    <link rel="stylesheet" href="css/contacto.css">
    <link rel="icon" type="image/png" href="img/logo_favicon.png">
</head>
<body>

<!-- HEADER -->
<header class="header-top">
    <div class="logo">
        <a href="index.html"><img src="img/logo.png" alt="Logo Lalo Racing"></a>
    </div>

    <nav class="menu-principal">
        <a href="cascos.html">CASCOS</a>
        <a href="indumentaria.html">INDUMENTARIA</a>
        <a href="mantenimiento.html">MANTENIMIENTO</a>
        <a href="repuestos.html">REPUESTOS</a>
    </nav>

    <div class="search-container">
        <form id="searchForm">
            <input type="text" placeholder="Buscar..." id="searchInput">
            <button type="submit"><img src="img/icon_search.svg" alt="Buscar"></button>
        </form>
    </div>
</header>

<!-- SUBMENU -->
<div class="header-bottom">
    <a href="nosotros.html">Nosotros</a>
    <a href="ayuda.html">Ayuda</a>
    <a href="contacto.html" class="active">Contáctanos</a>
</div>

<!-- HERO -->
<section class="hero-contacto">
    <h1>Contáctanos</h1>
    <h2>Estamos para ayudarte</h2>
</section>

<!-- CONTENIDO -->
<section class="contact-section">

    <div class="contact-info">
        <h3>Ubica nuestra sucursal</h3>
        <p><b>Dirección:</b> Jr. Belén 117, Chupaca 12455, Perú</p>

        <iframe 
            class="maps"
            src="https://www.google.com/maps?q=Jr.%20Belen%20117,%20Chupaca&output=embed">
        </iframe>
    </div>

    <div class="contact-form">
        <h3>Escríbenos</h3>

   <form id="contactForm">
    <input type="text" name="nombre" placeholder="Tu nombre" required>
    <input type="email" name="correo" placeholder="Correo electrónico" required>
    <input type="tel" name="celular" placeholder="Celular">
    <input type="text" name="dni" placeholder="DNI">
    <textarea name="mensaje" placeholder="Escribe tu mensaje" required></textarea>
    <button type="submit">Enviar</button>
</form>

<script>
const form = document.getElementById('contactForm');

form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const formData = {
        nombre: form.nombre.value.trim(),
        correo: form.correo.value.trim(),
        celular: form.celular.value.trim(),
        dni: form.dni.value.trim(),
        mensaje: form.mensaje.value.trim()
    };

    console.log('Datos que se van a enviar:', formData); // Ver en consola del navegador

    try {
        const res = await fetch('http://localhost:3000/contacto', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(formData)
        });

        if (!res.ok) {
            const errorText = await res.text();
            alert('Error: ' + errorText);
            console.error('Error del servidor:', errorText);
            return;
        }

        const data = await res.text();
        alert(data); // Mensaje de éxito
        form.reset();
    } catch (err) {
        alert('Error al enviar el formulario');
        console.error('Error en fetch:', err);
    }
});
</script>

    </div>

</section>



<!-- FOOTER -->
<footer class="footer">

    <div class="footer-container">

        <div class="footer-col footer-brand">
            <img src="img/logo.png" alt="Lalo Racing Logo" class="footer-logo">
            <p class="footer-text">
                Todo para tu moto en un solo lugar: indumentaria, repuestos, cascos y mantenimiento.
            </p>
        </div>

        <div class="footer-col footer-links">
            <h4>Enlaces</h4>
            <ul>
                <li><a href="cascos.html">Cascos</a></li>
                <li><a href="indumentaria.html">Indumentaria</a></li>
                <li><a href="repuestos.html">Repuestos</a></li>
                <li><a href="mantenimiento.html">Mantenimiento</a></li>
                <li><a href="nosotros.html">Nosotros</a></li>
                <li><a href="contacto.html">Contáctanos</a></li>
            </ul>
        </div>

        <div class="footer-col footer-social">
            <h4>Conéctate</h4>
            <div class="social-icons">
                <a href="#"><img src="img/icon_fb.png"></a>
                <a href="#"><img src="img/icon_ig.png"></a>
                <a href="#"><img src="img/icon_tk.png"></a>
                <a href="#"><img src="img/icon_yt.png"></a>
            </div>
            <p class="correo">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#ffffff" viewBox="0 0 24 24">
                    <path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 
                    0 0 0 2-2V6a2 2 0 0 0-2-2zm0 2v.01L12 11 4 
                    6.01V6h16zM4 18V8.236l8 4.999 8-5V18H4z"/>
                </svg>
                contacto@laloracing.com
            </p>
        </div>

    </div>

    <div class="footer-bottom">
        <p>© 2025 Lalo Racing - Todos los derechos reservados</p>
    </div>
</footer>

<!-- SCRIPT BUSCADOR -->
<script>
const searchMap = {
    "casco": "cascos.html",
    "cascos": "cascos.html",
    "indumentaria": "indumentaria.html",
    "ropa": "indumentaria.html",
    "chaquetas": "indumentaria.html",
    "chaqueta": "indumentaria.html",
    "mantenimiento": "mantenimiento.html",
    "aceite": "mantenimiento.html",
    "lubricante": "mantenimiento.html",
    "repuestos": "repuestos.html",
    "repuesto": "repuestos.html",
    "nosotros": "nosotros.html",
    "quienes somos": "nosotros.html",
    "ayuda": "ayuda.html",
    "faq": "ayuda.html",
    "contacto": "contacto.html",
    "contactanos": "contacto.html"
};

document.getElementById("searchForm").addEventListener("submit", function(e) {
    e.preventDefault();
    const query = document.getElementById("searchInput").value.toLowerCase().trim();

    // Buscar coincidencias parciales
    let found = false;
    for (let key in searchMap) {
        if (key.includes(query)) {
            window.location.href = searchMap[key];
            found = true;
            break;
        }
    }

    if (!found) {
        alert("No se encontraron resultados.");
    }
});
</script>

</body>
</html>
